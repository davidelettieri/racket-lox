%token NUMBER
%token STRING
%token IDENTIFIER
%token LEXER_ERROR
%left  'PLUS' 'MINUS'
%left  'STAR' 'SLASH'
%nonassoc  'RIGHT_PAREN'
%nonassoc  'ELSE'
%start (program)
%%
program: declarations 
| error declarations 
;
declaration: varDecl 
| statement 
;
varDecl: 'VAR' IDENTIFIER 'SEMICOLON' 
| 'VAR' IDENTIFIER 'EQUAL' expression 'SEMICOLON' 
;
statement: exprStmt 
| ifStmt 
| printStmt 
| block 
;
ifStmt: 'IF' 'LEFT_PAREN' expression 'RIGHT_PAREN' statement 
| 'IF' 'LEFT_PAREN' expression 'RIGHT_PAREN' statement 'ELSE' statement 
;
block: 'LEFT_BRACE' declarations 'RIGHT_BRACE' 
;
declarations: 
| declaration declarations 
;
exprStmt: expression 'SEMICOLON' 
;
printStmt: 'PRINT' expression 'SEMICOLON' 
;
expression: assignment 
;
assignment: IDENTIFIER 'EQUAL' assignment 
| equality 
;
equality: comparison 'BANG_EQUAL' comparison 
| comparison 'EQUAL_EQUAL' comparison 
| comparison 
;
comparison: term 'GREATER' term 
| term 'GREATER_EQUAL' term 
| term 'LESS' term 
| term 'LESS_EQUAL' term 
| term 
;
term: factor 'PLUS' term 
| factor 'MINUS' term 
| factor 
;
factor: unary 'STAR' unary 
| unary 'SLASH' unary 
| unary 
;
unary: 'BANG' unary 
| 'MINUS' unary 
| primary 
;
primary: NUMBER 
| STRING 
| 'TRUE' 
| 'FALSE' 
| 'NIL' 
| 'LEFT_PAREN' expression 'RIGHT_PAREN' 
| IDENTIFIER 
;
%%
